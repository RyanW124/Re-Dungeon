[gd_scene load_steps=16 format=2]

[ext_resource path="res://Scenes/TileMap.tscn" type="PackedScene" id=1]
[ext_resource path="res://Scenes/Player.tscn" type="PackedScene" id=2]
[ext_resource path="res://Scripts/Camera2D.gd" type="Script" id=3]
[ext_resource path="res://Scenes/Knight.tscn" type="PackedScene" id=4]
[ext_resource path="res://Scenes/Coin.tscn" type="PackedScene" id=5]
[ext_resource path="res://Scenes/Overlay.tscn" type="PackedScene" id=6]
[ext_resource path="res://Scripts/Main.gd" type="Script" id=7]
[ext_resource path="res://Assets/bg.webp" type="Texture" id=8]
[ext_resource path="res://Scenes/Fly.tscn" type="PackedScene" id=9]
[ext_resource path="res://Scenes/Big.tscn" type="PackedScene" id=10]
[ext_resource path="res://Scenes/Bomb.tscn" type="PackedScene" id=11]
[ext_resource path="res://Scenes/Magic.tscn" type="PackedScene" id=12]
[ext_resource path="res://Scripts/Sprite.gd" type="Script" id=13]
[ext_resource path="res://Scenes/Portal.tscn" type="PackedScene" id=14]
[ext_resource path="res://Scenes/Gui/Pause.tscn" type="PackedScene" id=15]

[node name="Main" type="Node2D"]
pause_mode = 1
script = ExtResource( 7 )
pause_menu = NodePath("CanvasLayer/Pause")

[node name="Node2D" type="Node2D" parent="."]
script = ExtResource( 13 )

[node name="Sprite" type="Sprite" parent="Node2D"]
light_mask = 5
position = Vector2( 115, -186 )
texture = ExtResource( 8 )

[node name="Player" parent="." groups=["Player"] instance=ExtResource( 2 )]
light_mask = 4
position = Vector2( 103, 142 )
scale = Vector2( 0.106067, 0.106067 )
max_health = 10.0
projectile_path = "res://Scenes/Projectiles/Projectile.tscn"
portal = NodePath("../Portal")

[node name="CanvasLayer" type="CanvasLayer" parent="."]
pause_mode = 2

[node name="Overlay" parent="CanvasLayer" instance=ExtResource( 6 )]
visible = false
margin_right = 90.0

[node name="Pause" parent="CanvasLayer" instance=ExtResource( 15 )]
pause_mode = 2
visible = false

[node name="TileMap" parent="." instance=ExtResource( 1 )]
light_mask = 1
occluder_light_mask = 1
tile_data = PoolIntArray( -655371, 2, 0, -720875, 2, 0, -720874, 2, 0, -720873, 2, 0, -720872, 2, 0, -720871, 2, 0, -720870, 2, 0, -720869, 2, 0, -720868, 2, 0, -720867, 2, 0, -720866, 2, 0, -720865, 2, 0, -720864, 2, 0, -720863, 2, 0, -589835, 2, 0, -655327, 2, 0, -524299, 2, 0, -589791, 2, 0, -458763, 2, 0, -524255, 2, 0, -393227, 2, 0, -458719, 2, 0, -327691, 2, 0, -393183, 2, 0, -262155, 2, 0, -327647, 2, 0, -196619, 2, 0, -262111, 2, 0, -131083, 2, 0, -196575, 2, 0, -65547, 2, 0, -131039, 2, 0, -11, 2, 0, -65503, 2, 0, 65525, 2, 0, 33, 2, 0, 131061, 2, 0, 65569, 2, 0, 196597, 2, 0, 131105, 2, 0, 262133, 2, 0, 196641, 2, 0, 327669, 2, 0, 262148, 20, 0, 262177, 2, 0, 393205, 2, 0, 327684, 20, 0, 327698, 20, 0, 327713, 2, 0, 458741, 2, 0, 393220, 20, 0, 393227, 20, 0, 393234, 20, 0, 393238, 20, 0, 393249, 2, 0, 524277, 2, 0, 458756, 20, 0, 458763, 20, 0, 458764, 20, 0, 458765, 20, 0, 458766, 20, 0, 458767, 20, 0, 458768, 20, 0, 458769, 20, 0, 458770, 20, 0, 458774, 20, 0, 458785, 2, 0, 589813, 2, 0, 524292, 20, 0, 524306, 20, 0, 524310, 20, 0, 524321, 2, 0, 655349, 2, 0, 589828, 20, 0, 589842, 20, 0, 589846, 20, 0, 589857, 2, 0, 720885, 2, 0, 720894, 15, 0, 720895, 14, 1, 655360, 14, 1, 655361, 14, 1, 655362, 14, 1, 655363, 14, 1, 655364, 14, 1, 655365, 14, 1, 655366, 14, 1, 655367, 14, 1, 655368, 14, 1, 655369, 14, 1, 655370, 14, 1, 655378, 20, 0, 655379, 20, 0, 655380, 20, 0, 655381, 20, 0, 655382, 20, 0, 655393, 2, 0, 786421, 2, 0, 786430, 15, 65536, 720929, 2, 0, 851957, 2, 0, 851966, 15, 65536, 786465, 2, 0, 917493, 2, 0, 917502, 15, 65536, 852001, 2, 0, 983029, 2, 0, 983038, 15, 65536, 917537, 2, 0, 1048565, 2, 0, 1048566, 15, 1, 1048567, 15, 1, 1048568, 15, 1, 1048569, 15, 1, 1048570, 15, 1, 1048571, 15, 1, 1048572, 15, 1, 1048573, 15, 1, 1048574, 15, 2, 983042, 15, 1, 983043, 15, 1, 983044, 15, 1, 983045, 15, 1, 983046, 15, 1, 983047, 15, 1, 983048, 15, 1, 983049, 15, 1, 983050, 15, 1, 983051, 15, 1, 983052, 15, 1, 983053, 15, 1, 983054, 15, 1, 983055, 15, 1, 983056, 15, 1, 983057, 15, 1, 983058, 15, 1, 983059, 15, 1, 983060, 15, 1, 983061, 15, 1, 983062, 15, 1, 983063, 15, 1, 983064, 15, 1, 983065, 15, 1, 983066, 15, 1, 983067, 15, 1, 983068, 15, 1, 983069, 15, 1, 983070, 15, 1, 983071, 15, 1, 983072, 15, 1, 983073, 2, 0, 1114101, 2, 0, 1114102, 20, 0, 1114103, 20, 0, 1114104, 20, 0, 1114105, 20, 0, 1114106, 20, 0, 1114107, 20, 0, 1114108, 20, 0, 1114109, 20, 0, 1114110, 20, 0, 1048578, 20, 0, 1048579, 20, 0, 1048580, 20, 0, 1048581, 20, 0, 1048582, 20, 0, 1048583, 20, 0, 1048584, 20, 0, 1048585, 20, 0, 1048586, 20, 0, 1048587, 20, 0, 1048588, 20, 0, 1048589, 20, 0, 1048590, 20, 0, 1048591, 20, 0, 1048592, 20, 0, 1048593, 20, 0, 1048594, 20, 0, 1048595, 20, 0, 1048596, 20, 0, 1048597, 20, 0, 1048598, 20, 0, 1048599, 20, 0, 1048600, 20, 0, 1048601, 20, 0, 1048602, 20, 0, 1048603, 20, 0, 1048604, 20, 0, 1048605, 20, 0, 1048606, 20, 0, 1048607, 20, 0, 1048608, 20, 0, 1048609, 2, 0, 1179637, 2, 0, 1179638, 20, 0, 1179639, 20, 0, 1179640, 20, 0, 1179641, 20, 0, 1179642, 20, 0, 1179643, 20, 0, 1179644, 20, 0, 1179645, 20, 0, 1179646, 20, 0, 1114114, 20, 0, 1114115, 20, 0, 1114116, 20, 0, 1114117, 20, 0, 1114118, 20, 0, 1114119, 20, 0, 1114120, 20, 0, 1114121, 20, 0, 1114122, 20, 0, 1114123, 20, 0, 1114124, 20, 0, 1114125, 20, 0, 1114126, 20, 0, 1114127, 20, 0, 1114128, 20, 0, 1114129, 20, 0, 1114130, 20, 0, 1114131, 20, 0, 1114132, 20, 0, 1114133, 20, 0, 1114134, 20, 0, 1114135, 20, 0, 1114136, 20, 0, 1114137, 20, 0, 1114138, 20, 0, 1114139, 20, 0, 1114140, 20, 0, 1114141, 20, 0, 1114142, 20, 0, 1114143, 20, 0, 1114144, 20, 0, 1114145, 2, 0, 1245173, 2, 0, 1245174, 20, 0, 1245175, 20, 0, 1245176, 20, 0, 1245177, 20, 0, 1245178, 20, 0, 1245179, 20, 0, 1245180, 20, 0, 1245181, 20, 0, 1245182, 20, 0, 1179650, 20, 0, 1179651, 20, 0, 1179652, 20, 0, 1179653, 20, 0, 1179654, 20, 0, 1179655, 20, 0, 1179656, 20, 0, 1179657, 20, 0, 1179658, 20, 0, 1179659, 20, 0, 1179660, 20, 0, 1179661, 20, 0, 1179662, 20, 0, 1179663, 20, 0, 1179664, 20, 0, 1179665, 20, 0, 1179666, 20, 0, 1179667, 20, 0, 1179668, 20, 0, 1179669, 20, 0, 1179670, 20, 0, 1179671, 20, 0, 1179672, 20, 0, 1179673, 20, 0, 1179674, 20, 0, 1179675, 20, 0, 1179676, 20, 0, 1179677, 20, 0, 1179678, 20, 0, 1179679, 20, 0, 1179680, 20, 0, 1179681, 2, 0, 1310709, 2, 0, 1310710, 2, 0, 1310711, 2, 0, 1310712, 2, 0, 1310713, 2, 0, 1310714, 2, 0, 1310715, 2, 0, 1310716, 2, 0, 1310717, 2, 0, 1310718, 2, 0, 1310719, 2, 0, 1245184, 2, 0, 1245185, 2, 0, 1245186, 2, 0, 1245187, 2, 0, 1245188, 2, 0, 1245189, 2, 0, 1245190, 2, 0, 1245191, 2, 0, 1245192, 2, 0, 1245193, 2, 0, 1245194, 2, 0, 1245195, 2, 0, 1245196, 2, 0, 1245197, 2, 0, 1245198, 2, 0, 1245199, 2, 0, 1245200, 2, 0, 1245201, 2, 0, 1245202, 2, 0, 1245203, 2, 0, 1245204, 2, 0, 1245205, 2, 0, 1245206, 2, 0, 1245207, 2, 0, 1245208, 2, 0, 1245209, 2, 0, 1245210, 2, 0, 1245211, 2, 0, 1245212, 2, 0, 1245213, 2, 0, 1245214, 2, 0, 1245215, 2, 0, 1245216, 2, 0, 1245217, 2, 0 )

[node name="Coin" parent="." instance=ExtResource( 5 )]
position = Vector2( 38, 149 )

[node name="Fly" parent="." instance=ExtResource( 9 )]
position = Vector2( -39, 130 )

[node name="Bomb" parent="." instance=ExtResource( 11 )]
visible = false
position = Vector2( 336, 209 )

[node name="Knight" parent="." instance=ExtResource( 4 )]
position = Vector2( 126, 154 )
scale = Vector2( 0.0806408, 0.0806408 )
max_health = 100.0
blood = "res://Particle/blood.tscn"

[node name="Big" parent="." instance=ExtResource( 10 )]
position = Vector2( 329, 140 )

[node name="ParallaxBackground" type="ParallaxBackground" parent="."]
visible = false

[node name="C2" type="CanvasModulate" parent="ParallaxBackground"]
visible = false
position = Vector2( 1, 0 )
color = Color( 0, 0, 0, 1 )

[node name="ParallaxLayer" type="ParallaxLayer" parent="ParallaxBackground"]
motion_scale = Vector2( 0.5, 1 )
motion_mirroring = Vector2( 1600, 520 )

[node name="Sprite" type="Sprite" parent="ParallaxBackground/ParallaxLayer"]
light_mask = 3
position = Vector2( 568, -104 )
scale = Vector2( 0.677905, 0.677906 )
texture = ExtResource( 8 )

[node name="C1" type="CanvasModulate" parent="."]
visible = false
position = Vector2( -1, -1 )
color = Color( 0, 0, 0, 1 )

[node name="Magic" parent="." instance=ExtResource( 12 )]
position = Vector2( 96, 224 )

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2( 222.833, 198.348 )
scale = Vector2( 0.00214833, 0.00213985 )
rotating = true
zoom = Vector2( 0.3, 0.3 )
script = ExtResource( 3 )

[node name="Tween" type="Tween" parent="Camera2D"]

[node name="Timer" type="Timer" parent="Camera2D"]

[node name="Portal" parent="." instance=ExtResource( 14 )]

[connection signal="tree_exiting" from="Player" to="Player" method="_on_Player_tree_exiting"]
[connection signal="timeout" from="Camera2D/Timer" to="Camera2D" method="_on_Timer_timeout"]
